<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ДЗ №20 Задача 5</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <style>
      a {
        text-decoration: none;
        color: black;
      }
      img {
        max-width: 100%;
      }
      .filter {
        padding: 10px;
        display: flex;
        justify-content: space-between;
        gap: 20px;
        background-color: rgb(214, 246, 246);
        max-width: 500px;
        height: 100px;
        border-radius: 25px;
        border: 5px solid rgb(203, 225, 224);
      }
      .column {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        align-items: center;
      }
      .title {
      }
      .item__price {
        font-size: 20px;
        color: red;
        font-weight: bold;
      }
      .card-border {
        border: 3px solid rgb(15, 195, 15);
      }
    </style>
  </head>
  <body>
    <h2>Задача 5</h2>
    <p>
      Дано список автомобілів (марка, рік випуску, ціна). Сформувати елементи
      для фільтрування з використанням випадаючого списку (контент цих
      випадаючих списків сформувати у залежності від переданого списку).
    </p>
    <div class="filter">
      <div class="column">
        <div class="title">Марка</div>
        <select
          class="form-select"
          aria-label="Default select example"
          id="make"
        >
          <option selected>Марка</option>
          <option value="Audi">Audi</option>
          <option value="Mercedes-Benz">Mercedes-Benz</option>
          <option value="Opel">Opel</option>
        </select>
      </div>
      <div class="column">
        <div class="title">Рік випуску</div>
        <select
          class="form-select"
          aria-label="Default select example"
          id="year"
        >
          <option selected>Рік</option>
          <option value="2000">2000</option>
          <option value="2021">2021</option>
          <option value="2018">2018</option>
        </select>
      </div>
    </div>
    <div class="vehicles"></div>
    <script>
      class Filter {
        search() {
          const make = document.querySelector("#make").value;
          const year = parseInt(document.querySelector("#year").value);
          let searchedVehicles = dataList.filter(
            (car) => car.make === make || car.year === year
          );
          let div;
          for (let i = 0; i < searchedVehicles.length; i++) {
            if (searchedVehicles[i]) {
              div = document.createElement("div");
              div.innerText = `${searchedVehicles[i].make} ${searchedVehicles[i].model} - ${searchedVehicles[i].year} рік - $ ${searchedVehicles[i].price}`;
            } else div.innerText = "Нічого не знайдено";
            document.body.append(div);
          }
        }
        render(containerSelector) {
          const make = document.querySelector("#make");
          const year = document.querySelector("#year");
          make.addEventListener("change", this.search);
          year.addEventListener("change", this.search);
        }
      }
      let dataList = [
        {
          make: "Mercedes-Benz",
          model: "E200",
          year: 2018,
          price: 25000,
        },
        {
          make: "Opel",
          model: "Astra",
          year: 2000,
          price: 5000,
        },
        {
          make: "Opel",
          model: "Mokka",
          year: 2021,
          price: 15000,
        },
        {
          make: "Audi",
          model: "A4",
          year: 2000,
          price: 7000,
        },
      ];

      const filter = new Filter();
      filter.render();
    </script>
  </body>
</html>
